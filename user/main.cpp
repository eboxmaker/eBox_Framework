/*
file   : *.cpp
author : shentq
version: V1.0
date   : 2015/7/5

Copyright 2015 shentq. All Rights Reserved.
*/

//STM32 RUN IN eBox
#include "ebox.h"
DACCLASS dac(&PA4);
/* ²¨ÐÎÊý¾Ý ---------------------------------------------------------*/
uint16_t Sine12bit[100] = {
0x7ff, 0x87f, 0x8ff, 0x97e, 0x9fc, 0xa77, 0xaf0, 0xb66, 
0xbd9, 0xc47, 0xcb2, 0xd17, 0xd78, 0xdd3, 0xe28, 0xe77, 
0xebf, 0xf00, 0xf3b, 0xf6e, 0xf99, 0xfbd, 0xfd9, 0xfed, 
0xff9, 0xffe, 0xff9, 0xfed, 0xfd9, 0xfbd, 0xf99, 0xf6e, 
0xf3b, 0xf00, 0xebf, 0xe77, 0xe28, 0xdd3, 0xd78, 0xd17, 
0xcb2, 0xc47, 0xbd9, 0xb66, 0xaf0, 0xa77, 0x9fc, 0x97e, 
0x8ff, 0x87f, 0x7ff, 0x77f, 0x6ff, 0x680, 0x602, 0x587, 
0x50e, 0x498, 0x425, 0x3b7, 0x34c, 0x2e7, 0x286, 0x22b, 
0x1d6, 0x187, 0x13f, 0x0fe, 0x0c3, 0x090, 0x065, 0x041, 
0x025, 0x011, 0x005, 0x000, 0x005, 0x011, 0x025, 0x041, 
0x065, 0x090, 0x0c3, 0x0fe, 0x13f, 0x187, 0x1d6, 0x22b, 
0x286, 0x2e7, 0x34c, 0x3b7, 0x425, 0x498, 0x50e, 0x587, 
0x602, 0x680, 0x6ff, 0x77f, 
};

void setup()
{
	ebox_init();
	//PB8.mode(OUTPUT_PP);
    
    PA5.mode(AIN);
    dac.begin(Sine12bit,Sine12bit,100);
}
int main(void)
{
	setup();
	while(1)
	{
		PB8.set();
		PB8.reset();
	}

}


